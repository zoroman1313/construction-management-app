# 🔥 راهنمای نصب Firebase - سیستم مدیریت ساختمان

## 📋 مراحل نصب Firebase

### 1️⃣ **ایجاد پروژه Firebase**
1. به [https://console.firebase.google.com](https://console.firebase.google.com) بروید
2. روی **"Create a project"** کلیک کنید
3. نام پروژه را **"construction-management"** بگذارید
4. Google Analytics را فعال کنید (اختیاری)
5. روی **"Create project"** کلیک کنید

### 2️⃣ **فعال‌سازی Authentication**
1. در منوی سمت چپ روی **"Authentication"** کلیک کنید
2. روی **"Get started"** کلیک کنید
3. در تب **"Sign-in method"**:
   - **Email/Password** را فعال کنید
   - **Phone** را فعال کنید (برای تایید شماره)
4. روی **"Save"** کلیک کنید

### 3️⃣ **تنظیمات Email Verification**
1. در **"Sign-in method"** روی **"Email/Password"** کلیک کنید
2. **"Email link (passwordless sign-in)"** را غیرفعال کنید
3. **"Email verification"** را فعال کنید
4. روی **"Save"** کلیک کنید

### 4️⃣ **تنظیمات Phone Verification**
1. در **"Sign-in method"** روی **"Phone"** کلیک کنید
2. **"Phone numbers"** را فعال کنید
3. **"Test phone numbers"** را برای تست فعال کنید
4. روی **"Save"** کلیک کنید

### 5️⃣ **دریافت کدهای Firebase**
1. روی **"Project settings"** (آیکون چرخ دنده) کلیک کنید
2. در تب **"General"** به پایین اسکرول کنید
3. در بخش **"Your apps"** روی **"Web app"** کلیک کنید
4. نام اپلیکیشن را **"construction-web"** بگذارید
5. روی **"Register app"** کلیک کنید
6. کدهای Firebase را کپی کنید

### 6️⃣ **جایگزینی کدها**
1. فایل `js/firebase-config.js` را باز کنید
2. مقادیر زیر را جایگزین کنید:

```javascript
const firebaseConfig = {
    apiKey: "YOUR_ACTUAL_API_KEY",
    authDomain: "your-project.firebaseapp.com",
    projectId: "your-project-id",
    storageBucket: "your-project.appspot.com",
    messagingSenderId: "123456789",
    appId: "1:123456789:web:abcdef123456"
};
```

## 🌍 **تنظیمات برای انگلستان**

### 📱 **Phone Verification**
- کد کشور: **+44** (انگلستان)
- فرمت شماره: **+44 7XXX XXX XXX**
- SMS verification: فعال

### 📧 **Email Verification**
- دامنه‌های مجاز: همه
- زبان پیش‌فرض: انگلیسی
- قالب ایمیل: قابل تنظیم

### 🔐 **Security Rules**
- حداقل طول رمز: 6 کاراکتر
- پیچیدگی رمز: توصیه شده
- Lockout: بعد از 5 تلاش ناموفق

## 🧪 **تست سیستم**

### 1️⃣ **تست ثبت‌نام**
1. روی دکمه **"ورود"** کلیک کنید
2. روی **"ثبت‌نام کنید"** کلیک کنید
3. فرم را پر کنید:
   - نام: Test User
   - ایمیل: test@example.com
   - شماره: +44 7123 456789
   - رمز: 123456
4. روی **"ثبت‌نام"** کلیک کنید

### 2️⃣ **تست تایید ایمیل**
1. ایمیل خود را چک کنید
2. روی لینک تایید کلیک کنید
3. به اپلیکیشن برگردید

### 3️⃣ **تست ورود**
1. با ایمیل و رمز وارد شوید
2. باید پیام موفقیت ببینید

## ⚠️ **مشکلات رایج**

### ❌ **خطای "Firebase not initialized"**
- مطمئن شوید فایل `firebase-config.js` قبل از `auth.js` لود می‌شود

### ❌ **خطای "Permission denied"**
- Authentication را در Firebase فعال کنید
- قوانین امنیتی را بررسی کنید

### ❌ **ایمیل تایید ارسال نمی‌شود**
- Spam folder را چک کنید
- تنظیمات SMTP را بررسی کنید

## 🔧 **تنظیمات پیشرفته**

### 📊 **Analytics**
```javascript
// در firebase-config.js اضافه کنید
import { getAnalytics } from "firebase/analytics";
const analytics = getAnalytics(app);
```

### 🗄️ **Database**
```javascript
// در firebase-config.js اضافه کنید
import { getFirestore } from "firebase/firestore";
const db = getFirestore(app);
```

### 💾 **Storage**
```javascript
// در firebase-config.js اضافه کنید
import { getStorage } from "firebase/storage";
const storage = getStorage(app);
```

## 📞 **پشتیبانی**

- **Firebase Docs**: [https://firebase.google.com/docs](https://firebase.google.com/docs)
- **Firebase Console**: [https://console.firebase.google.com](https://console.firebase.google.com)
- **Stack Overflow**: [https://stackoverflow.com/questions/tagged/firebase](https://stackoverflow.com/questions/tagged/firebase)

## 🎯 **مرحله بعدی**

بعد از نصب Firebase:
1. سیستم احراز هویت کار می‌کند
2. می‌توانیم صفحات مختلف را بسازیم
3. دیتابیس کاربران را اضافه کنیم
4. ویژگی‌های پیشرفته را پیاده‌سازی کنیم

---

**🔥 Firebase آماده است! حالا می‌توانید سیستم احراز هویت را تست کنید.**
